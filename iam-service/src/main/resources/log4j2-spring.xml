<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="WARN" monitorInterval="30">

    <Appenders>
        <!-- Console appender with JSON layout -->
        <Console name="Console" target="SYSTEM_OUT">
            <JsonLayout
                    complete="false"
                    compact="true"
                    eventEol="true"
                    stacktraceAsString="true"
                    includeStacktrace="true"
                    properties="true"
            >
            </JsonLayout>
        </Console>
    </Appenders>

    <Loggers>

        <!-- Shared package-specific log levels -->
        <Logger name="org.springframework.web" level="warn" additivity="false">
            <AppenderRef ref="Console"/>
        </Logger>

        <Logger name="org.springframework.security" level="warn" additivity="false">
            <AppenderRef ref="Console"/>
        </Logger>

        <!-- Development profile -->
        <SpringProfile name="dev">
            <Root level="debug">
                <AppenderRef ref="Console"/>
            </Root>
        </SpringProfile>

        <!-- Staging profile -->
        <SpringProfile name="stage">
            <Root level="info">
                <AppenderRef ref="Console"/>
            </Root>
        </SpringProfile>

        <!-- Production profile -->
        <SpringProfile name="prod">
            <Root level="info">
                <AppenderRef ref="Console"/>
            </Root>
        </SpringProfile>

    </Loggers>

</Configuration>
